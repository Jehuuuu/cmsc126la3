<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PathCraft Adventure - Algorithm Explorer</title>
    <link rel="stylesheet" href="src/assets/styles/main.css">
    <link rel="stylesheet" href="src/assets/styles/tileset-grid.css">
    <link rel="icon" href="data:,">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header id="main-header">
            <div id="header-content">
                <div class="header-top">
                    <div class="title-container">
                        <h1>PathCraft Adventure</h1>
                    </div>
                    <button id="help-btn" class="help-btn" aria-label="Help">?</button>
                </div>
                <p class="subtitle">A Pixel Journey Through Pathfinding Algorithms</p>
                
                <div id="collapsible-controls" class="collapsible-controls">
                    <nav aria-label="Control settings">
                        <div class="controls">
                            <div class="control-group">
                                <label for="grid-size">Grid Size:</label>
                                <select id="grid-size">
                                    <option value="10">10x10</option>
                                    <option value="15">15x15</option>
                                    <option value="20">20x20</option>
                                    <option value="25">25x25</option>
                                </select>
                            </div>
                            
                            <div class="control-group">
                                <label for="visualization-speed">Speed:</label>
                                <select id="visualization-speed">
                                    <option value="slow">Slow</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="fast">Fast</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label for="visualization-mode">Mode:</label>
                                <select id="visualization-mode">
                                    <option value="auto">Auto</option>
                                    <option value="step">Step-by-Step</option>
                                </select>
                            </div>
                        </div>
                    </nav>
                    
                    <section class="tools-section mobile-hidden-tools" aria-label="Grid tools">
                        <div class="tools">
                            <button id="start-node-btn" class="tool-btn"><i class="fas fa-flag-checkered"></i> Set Start</button>
                            <button id="end-node-btn" class="tool-btn"><i class="fas fa-bullseye"></i> Set End</button>
                            <button id="wall-btn" class="tool-btn"><i class="fas fa-th"></i> Add Walls</button>
                            <button id="erase-btn" class="tool-btn"><i class="fas fa-eraser"></i> Erase</button>
                            <button id="random-maze-btn" class="tool-btn"><i class="fas fa-puzzle-piece"></i> Random Maze</button>
                            <button id="random-start-end-btn" class="tool-btn"><i class="fas fa-random"></i> Random Start/End</button>
                        </div>
                    </section>
                    
                    <!-- Clear Grid Button in its own section so it doesn't get disabled -->
                    <section class="clear-grid-section" aria-label="Clear Grid">
                        <div class="clear-grid-container">
                            <button id="clear-grid-btn" class="action-btn"><i class="fas fa-trash-alt"></i> Clear Grid</button>
                        </div>
                    </section>
                    
                    <section class="actions-section" aria-label="Visualization controls">
                        <div class="action-buttons">
                            <button id="start-btn" class="action-btn mobile-hidden-action"><i class="fas fa-play"></i> Find Path</button>
                            <button id="next-step-btn" class="action-btn step-control" disabled><i class="fas fa-step-forward"></i> Next Step</button>
                            <button id="prev-step-btn" class="action-btn step-control" disabled><i class="fas fa-step-backward"></i> Previous Step</button>
                        </div>
                    </section>
                </div>
            </div>
            
            <!-- Toggle button at the bottom of header -->
            <button id="toggle-controls-btn" class="toggle-controls-btn" aria-label="Toggle Controls">
                <span class="double-arrow">⇣⇣</span>
            </button>
        </header>
        
        <!-- Main tools menu -->
        <div id="assistive-menu" class="assistive-menu">
            <button class="tool-menu-item start" data-tool="start" aria-label="Set Start">
                <span class="icon"><i class="fas fa-flag-checkered"></i></span> Set Start Point
            </button>
            <button class="tool-menu-item end" data-tool="end" aria-label="Set End">
                <span class="icon"><i class="fas fa-bullseye"></i></span> Set End Point
            </button>
            <button class="tool-menu-item wall" data-tool="wall" aria-label="Add Walls">
                <span class="icon"><i class="fas fa-th"></i></span> Draw Walls
            </button>
            <button class="tool-menu-item erase" data-tool="erase" aria-label="Erase">
                <span class="icon"><i class="fas fa-eraser"></i></span> Erase Items
            </button>
            <button class="tool-menu-item clear" data-tool="clear" aria-label="Clear Grid">
                <span class="icon"><i class="fas fa-trash-alt"></i></span> Clear All
            </button>
        </div>
        
        <!-- Step by step controls menu (separate from other tools) -->
        <div id="step-by-step-menu" class="step-by-step-menu">
            <button class="tool-menu-item run-btn" data-action="run" id="mobile-step-run-btn" aria-label="Prepare Path">
                <span class="icon"><i class="fas fa-play"></i></span> Prepare Path
            </button>
            <button class="tool-menu-item step-btn" data-action="prev-step" id="mobile-prev-step" aria-label="Previous Step" disabled>
                <span class="icon"><i class="fas fa-step-backward"></i></span> Previous Step
            </button>
            <button class="tool-menu-item step-btn" data-action="next-step" id="mobile-next-step" aria-label="Next Step" disabled>
                <span class="icon"><i class="fas fa-step-forward"></i></span> Next Step
            </button>
        </div>
        
        <!-- Random Features Menu -->
        <div id="random-menu" class="random-menu">
            <button class="random-menu-item maze" data-action="random-maze" aria-label="Random Maze">
                <span class="icon"><i class="fas fa-puzzle-piece"></i></span> Random Maze
            </button>
            <button class="random-menu-item positions" data-action="random-start-end" aria-label="Random Start/End">
                <span class="icon"><i class="fas fa-random"></i></span> Random Points
            </button>
            <button class="random-menu-item clear" data-action="clear-grid" aria-label="Clear Grid">
                <span class="icon"><i class="fas fa-trash-alt"></i></span> Clear Grid
            </button>
        </div>
        
        <!-- Help modal -->
        <div id="help-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>How to Use the Pathfinding Visualizer</h2>
                <div class="help-content">
                    <h3>Controls</h3>
                    <ul>
                        <li><strong>Grid Size</strong>: Change the size of the grid</li>
                        <li><strong>Speed</strong>: Control how fast the visualization runs</li>
                        <li><strong>Mode</strong>: Choose automatic or step-by-step visualization</li>
                    </ul>
                    
                    <h3>Tools</h3>
                    <ul>
                        <li><strong>Set Start</strong>: Set the starting point for the algorithm</li>
                        <li><strong>Set End</strong>: Set the destination point</li>
                        <li><strong>Add Walls</strong>: Create obstacles the algorithm must navigate around</li>
                        <li><strong>Erase</strong>: Remove walls or obstacles</li>
                        <li><strong>Random Maze</strong>: Generate a random maze of obstacles</li>
                        <li><strong>Random Start/End</strong>: Randomly place start and end points</li>
                        <li><strong>Clear Grid</strong>: Reset the entire grid</li>
                    </ul>
                    
                    <h3>Actions</h3>
                    <ul>
                        <li><strong>Find Path</strong>: Run the pathfinding algorithms</li>
                        <li><strong>Next Step/Previous Step</strong>: Navigate through the algorithm execution in step-by-step mode</li>
                    </ul>
                    
                    <h3>Algorithms</h3>
                    <ul>
                        <li><strong>Dijkstra's Algorithm</strong>: Guarantees the shortest path by exploring in all directions</li>
                        <li><strong>A* Algorithm</strong>: Uses heuristics to find paths more efficiently by prioritizing promising directions</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <main>
            <section class="algorithm-comparison">
                <article class="algorithm-container">
                    <h2>Dijkstra's Algorithm</h2>
                    <div class="main-content">
                        <div class="grid-container">
                            <div id="dijkstra-grid" class="grid" aria-label="Dijkstra's algorithm grid"></div>
                        </div>
                        
                        <footer class="path-info">
                            <p>Nodes visited: <span id="dijkstra-visited-count">0</span></p>
                            <p>Path length: <span id="dijkstra-path-length">0</span></p>
                        </footer>
                    </div>
                </article>
                
                <article class="algorithm-container">
                    <h2>A* Algorithm</h2>
                    <div class="main-content">
                        <div class="grid-container">
                            <div id="astar-grid" class="grid" aria-label="A* algorithm grid"></div>
                        </div>
                        
                        <footer class="path-info">
                            <p>Nodes visited: <span id="astar-visited-count">0</span></p>
                            <p>Path length: <span id="astar-path-length">0</span></p>
                        </footer>
                    </div>
                </article>
            </section>
        </main>
        
        <aside class="legend-container">
            <section class="legend" aria-label="Legend for grid elements">
                <h3>Legend</h3>
                <dl class="legend-items">
                    <div class="legend-item">
                        <dt><div class="legend-color start-node"></div></dt>
                        <dd>Start Node</dd>
                    </div>
                    <div class="legend-item">
                        <dt><div class="legend-color end-node"></div></dt>
                        <dd>End Node</dd>
                    </div>
                    <div class="legend-item">
                        <dt><div class="legend-color wall-node"></div></dt>
                        <dd>Wall</dd>
                    </div>
                    <div class="legend-item">
                        <dt><div class="legend-color visited-node"></div></dt>
                        <dd>Visited Node</dd>
                    </div>
                    <div class="legend-item">
                        <dt><div class="legend-color path-node"></div></dt>
                        <dd>Path Node</dd>
                    </div>
                    <div class="legend-item">
                        <dt><div class="legend-color current-node"></div></dt>
                        <dd>Current Node</dd>
                    </div>
                </dl>
            </section>
        </aside>
    </div>

    <!-- Scripts with proper loading order -->
    <!-- Utilities -->
    <script src="src/utils/PriorityQueue.js" defer></script>
    <script src="src/utils/PathUtils.js" defer></script>
    
    <!-- Models -->
    <script src="src/models/Node.js" defer></script>
    <script src="src/models/Grid.js" defer></script>
    
    <!-- Algorithms -->
    <script src="src/algorithms/Algorithm.js" defer></script>
    <script src="src/algorithms/DijkstraAlgorithm.js" defer></script>
    <script src="src/algorithms/AStarAlgorithm.js" defer></script>
    
    <!-- Views -->
    <script src="src/views/GridView.js" defer></script>
    <script src="src/views/UIView.js" defer></script>
    
    <!-- Controllers -->
    <script src="src/controllers/VisualizationController.js" defer></script>
    <script src="src/controllers/GameController.js" defer></script>
    
    <!-- Main entry point -->
    <script src="src/index.js" defer></script>
</body>
</html> 